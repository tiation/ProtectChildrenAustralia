!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="99fa388b-d55f-4e7d-a00d-6897a6ee3e65",e._sentryDebugIdIdentifier="sentry-dbid-99fa388b-d55f-4e7d-a00d-6897a6ee3e65")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11431],{63287:function(e,a,t){t.d(a,{Nb:function(){return r},YS:function(){return i},aD:function(){return l},tw:function(){return c},xr:function(){return n}}),t(38372),t(70392);var s=t(22319),l="$flex $justify-center $items-center $rounded-lg $w-35 $h-35 $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $bg-surface-0 hover:$bg-surface-3 text-surface-foreground-0",n="$text-white dark:text-surface-1",r="$rounded-[8px] $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $bg-surface-0 dark:bg-surface-1 $z-[2] $overflow-hidden $flex $flex-col",c="_m87f4j0 $bg-transparent hover:$bg-surface-2 $px-[20px] $py-[10px] $cursor-pointer $sprinkles-text-xs $text-surface-foreground-2 $flex $gap-[10px] $items-center",i=(0,s.c)({defaultClassName:"_1rgts1f1 $absolute $top-10 $right-10 $flex $flex-col $gap-10 $transition-all",variantClassNames:{calculating:{true:"$opacity-0",false:"_1rgts1f0 $opacity-0"}},defaultVariants:{calculating:!1},compoundVariants:[]})},27727:function(e,a,t){t.d(a,{L:function(){return B}});var s=t(97458),l=t(81157),n=t(98821),r=t.n(n),c=t(10893);t(42977);var i=t(22319),o="_c4jkjm2 _c4jkjm0 $flex $flex-1 $flex-col $w-full $p-10 rounded-r-none dark:bg-surface-1",d="$flex",u="_c4jkjm3 $overflow-y-auto $mb-20",x=(0,i.c)({defaultClassName:"_c4jkjm5 _c4jkjm4 $relative $w-full $flex $justify-between $items-center $pr-15 $border-b-xs border-surface-border-1 $font-semibold",variantClassNames:{active:{true:"text-surface-accent-0",false:"$text-surface-foreground-2"}},defaultVariants:{active:!1},compoundVariants:[]}),f=t(52983),m=t(1557);let h=()=>(0,f.useContext)(m.U);var $=t(49504),j=t(33523);let p=()=>{let e=Array.from({length:5},(e,a)=>a);return(0,s.jsx)("div",{className:"$mb-20 $overflow-y-auto",children:e.map(e=>(0,s.jsx)("div",{className:x(),children:(0,s.jsx)(j.O.Rect,{className:"$h-20"})},e))})},g=()=>{let{t:e}=(0,c.$G)("common");return(0,s.jsx)("div",{className:u,children:(0,s.jsx)("p",{children:e("noCollectionsAvailable")})})};var v=t(7616),b=t(94498),w=t(99),C=t(770),_=t(46914),N=t(96065);let k=e=>{let{collections:a,isSelected:t,onSelect:l}=e,{t:n}=(0,c.$G)("common");return a&&0!==a.length?(0,s.jsx)("div",{className:u,children:a.map(e=>{let a=e.id&&(null==t?void 0:t.includes(e.id))||!1;return(0,s.jsxs)("button",{className:x({active:a}),onClick:()=>{l(e)},children:[(0,s.jsx)("span",{children:e.name}),a&&(0,s.jsx)(C.J,{as:_.Z}),(0,s.jsxs)("span",{className:"_c4jkjm8 $absolute $right-15 text-surface-foreground-2 $sprinkles-text-sm $flex $items-center $gap-10 bg-surface-1 $opacity-0",children:[a?n("remove"):n("select"),(0,s.jsx)(C.J,{as:a?N.Z:_.Z})]})]},e.id)})}):(0,s.jsx)(g,{})},y=e=>{let{userCollectionsResult:a}=e,t=(0,v.b9)(b.HQ),l=(0,v.Dv)(b.GD),{data:n}=a,r=n.filter(e=>"owned"===e.ownership),{handleCollectionSelection:c,collectionsSelected:i}=h();return(0,f.useEffect)(()=>{""===l&&t(a)},[l,t,a]),(0,s.jsx)(k,{collections:r.map(w.V),onSelect:c,isSelected:i.map(e=>e.id)})},Z=e=>{let{id:a}=e,t=(0,$.l)({page:1,resourceId:a});return t.isError?(0,s.jsx)(g,{}):t.isPending?(0,s.jsx)(p,{}):t.isSuccess?(0,s.jsx)(y,{userCollectionsResult:t.data}):(0,s.jsx)(p,{})};var D=t(89052),S=t(39597);let H=e=>{let{onCreate:a}=e,[t,l]=(0,f.useState)(""),{t:n}=(0,c.$G)("detailCommon");return(0,s.jsxs)("div",{className:d,children:[(0,s.jsx)(S.I,{type:"text",className:o,placeholder:n("createNewCollection"),value:t,onChange:e=>{l(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(a(t),l(""))}}),(0,s.jsx)(D.g,{variant:"default",onClick:()=>{a(t),l("")},className:"rounded-l-none",children:(0,s.jsx)("span",{className:"$leading-tight",children:n("addCollection")})})]})};var I=t(19170),M=t(89310);let E=()=>{let{openToast:e}=(0,I.x_)(),{t:a}=(0,c.$G)("detailCommon"),t=(0,$.g)();return{handleCreate:(0,f.useCallback)(async s=>{0!==s.length&&((await (0,M.B)({name:s,description:"",type:"private"})).success?e({type:"success",message:a("collectionCreatedSuccessfully")}):e(),t())},[t,e,a])}};var G=t(8619),L=t(74447),T=t(18503);let A=e=>{let{placeholder:a,onSearch:t}=e;return(0,s.jsxs)("div",{className:(0,T.m)("$mb-20",d),children:[(0,s.jsx)(S.I,{type:"text",className:o,placeholder:a,onChange:e=>{t(e.target.value)}}),(0,s.jsx)(D.g,{variant:"default",className:"rounded-l-none",children:(0,s.jsx)(C.J,{as:L.Z})})]})},B=e=>{let{type:a,id:t,preview:n}=e,{t:i}=(0,c.$G)(["detailCommon","common"]),{collections:o}=(0,G.h)(),{isDirty:d,handleSaveChanges:u,handleSearch:x,isSearchByApi:f}=h(),{handleCreate:m}=E(),$=o.length>=8||f;return(0,s.jsxs)("div",{className:"$flex $bg-surface-0 dark:bg-surface-1",children:[(0,s.jsx)("div",{className:"$relative $hidden md:$flex $justify-center $items-center $w-300",children:"icon"!==a?(0,s.jsx)(r(),{src:n,className:"$object-cover",alt:"preview",fill:!0}):(0,s.jsx)(r(),{src:n,alt:"preview",width:128,height:128,className:"dark:bg-neutral-50 dark:p-2"})}),(0,s.jsxs)("div",{className:"_c4jkjm1 _c4jkjm0 $flex $flex-1 $flex-col $justify-between $p-25 $pt-30 $leading-relaxed $text-surface-foreground-2",children:[(0,s.jsx)("p",{className:"$sprinkles-text-xl $font-semibold $mb-15",children:i("detailCommon:addToCollection")}),(0,s.jsxs)("div",{className:"_c4jkjm0 $flex $flex-1 $flex-col",children:[$&&(0,s.jsx)(A,{placeholder:i("common:search"),onSearch:x}),(0,s.jsx)(Z,{id:t,preview:n,type:a})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(H,{onCreate:m}),(0,s.jsx)(l.gg,{color:"blue",radius:"xs",block:!0,onClick:u,disabled:!d,className:"$mt-20",children:i("detailCommon:saveChanges")})]})]})]})}},79051:function(e,a,t){t.r(a),t.d(a,{AddToCollection:function(){return v}});var s=t(97458),l=t(48681),n=t(47152),r=t(51195),c=t(23113),i=t(34854),o=t(770),d=t(9249),u=t(83910),x=t(80712),f=t(10893),m=t(9217),h=t(63287);let $=e=>{let{isCollapsed:a,added:t,onClick:l,mode:n,tooltipProps:$={side:"top"},buttonClassName:j,labelClassName:p,showLabel:g=!0}=e,{t:v}=(0,f.$G)("detailCommon"),b=(0,c.a)("lg"),w=(0,i.nD)(),C=v(t?"saved":"addToCollection"),_=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.T,{children:C}),(0,s.jsx)(o.J,{as:t?u.Z:x.Z,size:"base",color:t?"blueFreepik":void 0})]}),N=(0,s.jsxs)("button",{className:a?h.tw:h.aD,onClick:l,"data-cy":"add-to-collection-thumbnail",children:[_,a&&(0,s.jsx)("span",{children:C})]});return("large"===n&&(N=(0,s.jsxs)("button",{className:null!=j?j:m.LI(),onClick:l,children:[_,g&&(0,s.jsx)("span",{className:null!=p?p:m.PS(),children:C})]})),!b||a)?N:(0,s.jsx)(r.u,{...$,trigger:N,triggerAsChild:!0,hideOnLeaveHover:!0,container:w.current,children:C})};var j=t(27727),p=t(46616),g=t(76559);let v=e=>{let{type:a,id:t,preview:r,mode:c,location:i,tooltipProps:o,buttonClassName:d,labelClassName:u,showLabel:x=!0,renderTrigger:f}=e,{added:m,onClick:h,showModal:v,handleOpenChange:b}=(0,g.r)({id:t,type:a,location:i}),w=(0,n.U)().isCollapsed;return(0,s.jsxs)(s.Fragment,{children:[f?f({isAdded:m,onClick:h}):(0,s.jsx)($,{isCollapsed:w,onClick:h,added:m,mode:null!=c?c:"normal",tooltipProps:o,buttonClassName:d,showLabel:x,labelClassName:u}),(0,s.jsx)(l.u,{open:v,onOpenChange:b,thumbnail:!0,children:(0,s.jsx)(p.u,{id:t,type:a,location:i,children:(0,s.jsx)(j.L,{type:a,id:t,preview:r})})})]})}},18666:function(e,a,t){t.d(a,{B:function(){return f}});var s=t(97458),l=t(51195),n=t(23113),r=t(34854),c=t(93154),i=t(770),o=t(9249),d=t(44854),u=t(10893),x=t(1703);let f=e=>{let{id:a,name:t,type:f,buttonClassName:m,labelClassName:h,preview:$,inThumbnail:j=!1,showLabel:p=!1,tooltipProps:g={},trigger:v}=e,{t:b}=(0,u.$G)("detailCommon"),w=(0,r.nD)(),C=(0,n.a)("lgMax"),_=(0,x.E)({id:a,name:t,type:f,preview:$,inThumbnail:j}),N=b("viewSimilar");if(v)return(0,s.jsx)(c.fC,{onClick:_,children:v});let k=(0,s.jsxs)("button",{"data-cy":"view-similar-button",className:m,onClick:_,children:[(0,s.jsx)(o.T,{children:N}),(0,s.jsx)(i.J,{as:d.Z,size:"base"}),p&&(0,s.jsx)("span",{className:h,children:N})]});return C||p?k:(0,s.jsx)(l.u,{...g,trigger:k,triggerAsChild:!0,hideOnLeaveHover:!0,container:w.current,children:N})}},1703:function(e,a,t){t.d(a,{E:function(){return r}});var s=t(51771),l=t(73701),n=t(12533);let r=e=>{let{id:a,name:t,type:r,preview:{width:c,height:i,url:o},inThumbnail:d=!1}=e,u=(0,n.z)(o,c,i),x=(0,l.Z)(),f=(0,s.f)({event_name:d?"similar_images_thumbnail":"similar_images",file_id:a.toString(),file_name:t,content_group2:r,search_logic_applied:"similar_images"});return async e=>{e.preventDefault(),e.stopPropagation(),f(),x(),await u(r)}}},89310:function(e,a,t){t.d(a,{B:function(){return l}});var s=t(63202);let l=e=>{let{name:a,description:t,type:l}=e;return(0,s.c)("/api/user/collections","POST",{name:a,...t&&{description:t},...l&&{type:l}})}},47152:function(e,a,t){t.d(a,{T:function(){return r},U:function(){return c}});var s=t(97458),l=t(52983);let n=(0,l.createContext)({isCollapsed:null}),r=e=>{let{isCollapsed:a,children:t}=e,r=(0,l.useMemo)(()=>({isCollapsed:a}),[a]);return(0,s.jsx)(n.Provider,{value:r,children:t})},c=()=>(0,l.useContext)(n)},83910:function(e,a,t){var s=t(97458);a.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24","aria-hidden":!0,...e,children:(0,s.jsx)("path",{d:"M23.531 7.266v11.812a3.05 3.05 0 0 1-3.047 3.047H3.516a3.05 3.05 0 0 1-3.047-3.047V4.922a3.05 3.05 0 0 1 3.047-3.047h3.28a3.05 3.05 0 0 1 2.966 2.344h10.722a3.05 3.05 0 0 1 3.047 3.047"})})},80712:function(e,a,t){var s=t(97458);a.Z=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,s.jsx)("path",{d:"M257.8 409.8H70c-8.3 0-15-6.7-15-15v-177h392v40c0 13.8 11.2 25 25 25s25-11.2 25-25v-115c0-35.8-29.2-65-65-65H203.3c-6.8-28.6-32.6-50-63.3-50H70c-35.8 0-65 29.2-65 65v302c0 35.8 29.2 65 65 65h187.8c13.8 0 25-11.2 25-25s-11.2-25-25-25M70 77.8h70c8.3 0 15 6.7 15 15v10c0 13.8 11.2 25 25 25h252c8.3 0 15 6.7 15 15v25H55v-75c0-8.3 6.7-15 15-15"}),(0,s.jsx)("path",{d:"M490.2 325.3c-21.2-20.8-55.4-21.3-77.2-1.2-3.5 3.2-6.5 6.8-9 10.6-2.5-3.8-5.5-7.4-9-10.6-21.8-20.1-56-19.6-77.2 1.2-22.3 21.9-22.5 57.7-.4 79.7l74 74c7 7 18.3 7 25.2 0l74-74c22-22 21.9-57.8-.4-79.7"})]})},44854:function(e,a,t){var s=t(97458);a.Z=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"Capa 1",viewBox:"0 0 23.99 24.38",width:16,height:16,"aria-hidden":!0,...e,children:[(0,s.jsx)("path",{d:"M22.82 14.89c-.65 0-1.17.52-1.17 1.17v4.33c0 .9-.74 1.64-1.64 1.64H3.98c-.44 0-.85-.17-1.16-.48s-.48-.72-.48-1.16l.02-16.03c0-.9.74-1.64 1.64-1.64h4.21c.65 0 1.17-.52 1.17-1.17S8.86.38 8.21.38H4C1.8.38.02 2.16.02 4.36L0 20.39c0 1.07.41 2.07 1.17 2.82.75.75 1.75 1.17 2.82 1.17h16.02c2.2 0 3.98-1.79 3.98-3.98v-4.33c0-.65-.52-1.17-1.17-1.17Z"}),(0,s.jsx)("path",{d:"M5.03 19.16c-.45 0-.7-.5-.4-.82l3.38-3.69c.22-.24.63-.23.83.03l1.66 2.1 3.6-3.93c.31-.34.88-.32 1.16.04l4.09 5.17c.36.46.01 1.11-.6 1.11H5.03ZM23.67 10.84l-2.1-2.1c1.63-2.46 1.07-5.81-1.32-7.61a5.61 5.61 0 0 0-7.88 1.14 5.55 5.55 0 0 0-1.06 4.17c.21 1.48.99 2.8 2.2 3.7a5.68 5.68 0 0 0 6.47.19l2.1 2.1c.22.21.5.32.79.32s.58-.11.8-.32c.43-.44.43-1.15 0-1.59m-3.04-5.19c0 2.06-1.68 3.74-3.74 3.74a3.74 3.74 0 0 1 0-7.48c2.06 0 3.74 1.68 3.74 3.74"})]})}}]);